<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Web Page</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            position: relative;
        }
        .rectangle {
            width: 100px;
            height: 100px;
            background-color: green;
            position: absolute;
            cursor: pointer;
            border: 2px solid transparent;
            box-sizing: border-box;
        }
        .rectangle:hover {
            border: 2px solid #000; /* Show border on hover */
        }
        #rect1 {
            left: 50px;
            top: 50px;
        }
        #rect2 {
            left: 200px;
            top: 50px;
        }
        .red-dot {
            width: 10px;
            height: 10px;
            background-color: red;
            border-radius: 50%;
            position: absolute;
        }
        #chairBtn {
            position: fixed;
            bottom: 10px;
            left: 10px;
            padding: 10px;
            cursor: pointer;
            background-color: lightgray;
            border: none;
            font-size: 16px;
        }
        #chairBtn.active {
            background-color: lightgreen;
        }
    </style>
</head>
<body>

    <div id="rect1" class="rectangle"></div>
    <div id="rect2" class="rectangle"></div>
    <button id="chairBtn">Chair</button>

    <script>
        let activeChair = false;

        document.getElementById('chairBtn').addEventListener('click', function() {
            activeChair = !activeChair;
            this.classList.toggle('active');
        });

        document.addEventListener('click', function(e) {
            if (activeChair) {
                const dot = document.createElement('div');
                dot.className = 'red-dot';
                dot.style.left = e.pageX + 'px';
                dot.style.top = e.pageY + 'px';
                document.body.appendChild(dot);
            }
        });

        // Enable dragging for the rectangles
        const rectangles = document.querySelectorAll('.rectangle');
        rectangles.forEach(rectangle => {
            let isResizing = false;
            let isDragging = false;
            let currentRect = null;

            rectangle.addEventListener('mousedown', function(e) {
                if (isResizing) return;

                currentRect = this;
                let shiftX = e.clientX - currentRect.getBoundingClientRect().left;
                let shiftY = e.clientY - currentRect.getBoundingClientRect().top;

                function moveAt(pageX, pageY) {
                    currentRect.style.left = pageX - shiftX + 'px';
                    currentRect.style.top = pageY - shiftY + 'px';
                }

                function onMouseMove(event) {
                    moveAt(event.pageX, event.pageY);
                }

                document.addEventListener('mousemove', onMouseMove);

                currentRect.onmouseup = function() {
                    document.removeEventListener('mousemove', onMouseMove);
                    currentRect.onmouseup = null;
                    isDragging = false;
                };

                isDragging = true;
            });

            rectangle.ondragstart = function() {
                return false;
            };

            // Resizing functionality
            rectangle.addEventListener('mousemove', function(e) {
                const rect = this.getBoundingClientRect();
                const offset = 5;
                if (e.clientX >= rect.right - offset && e.clientY >= rect.bottom - offset) {
                    this.style.cursor = 'se-resize';
                    isResizing = true;
                } else {
                    this.style.cursor = isDragging ? 'grabbing' : 'pointer';
                    isResizing = false;
                }
            });

            rectangle.addEventListener('mousedown', function(e) {
                if (!isResizing) return;

                const rect = this;
                let startX = e.clientX;
                let startY = e.clientY;
                let startWidth = rect.offsetWidth;
                let startHeight = rect.offsetHeight;

                function onMouseMove(event) {
                    const newWidth = startWidth + (event.clientX - startX);
                    const newHeight = startHeight + (event.clientY - startY);

                    rect.style.width = newWidth + 'px';
                    rect.style.height = newHeight + 'px';
                }

                document.addEventListener('mousemove', onMouseMove);

                document.onmouseup = function() {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.onmouseup = null;
                    isResizing = false;
                };

                e.stopPropagation(); // Prevent drag event while resizing
            });

        });
    </script>
</body>
</html>
